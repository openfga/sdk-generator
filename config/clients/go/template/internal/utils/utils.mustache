{{>partial_header}}
package internalutils

import (
	_math "math"
	_rand "math/rand"
	"regexp"
)

// cUlidRegex contains the regex for valid ULID
const cUlidRegex = "^[0-7][0-9A-HJKMNP-TV-Z]{25}$"

// IsWellFormedUlidString returns whethr the ulidString is a properly formatted ulid string
func IsWellFormedUlidString(ulidString string) bool {
	re := regexp.MustCompile(cUlidRegex)
	return re.MatchString(ulidString)
}

// RandomTime provides a randomized time
func RandomTime(loopCount int, minWaitInMs int) int{
    min := int(_math.Pow(2, float64(loopCount))) * minWaitInMs;
    max := int(_math.Pow(2, float64(loopCount + 1))) * minWaitInMs;
    return _rand.Intn(max - min + 1) + min
}
